(function(){function F(b){for(var d=-1,c=b.length,a=Array(c);++d<c;)a[d]=b[d];return a}function I(b,d){var c=-1,a=b.length-d;if(0>=a)return[];for(var e=Array(a);++c<a;)e[c]=b[c+d];return e}function Q(b){for(var d=-1,c=b.length,a=[];++d<c;){var e=b[d];e&&(a[a.length]=e)}return a}function Qa(b){for(var d=-1,c=b.length,a=Array(c),e=c;++d<c;)a[--e]=b[d];return a}function ja(b,d,c){var a=-1,e=b.length;if(3===d.length)for(;++a<e;)d(b[a],a,E(c));else for(;++a<e;)d(b[a],E(c))}function ka(b,d,c,a){var e,f=
-1,g=a.length;if(3===d.length)for(;++f<g;)e=a[f],d(b[e],e,E(c));else for(;++f<g;)d(b[a[f]],E(c))}function la(b,d,c){b=b[z]();var a;if(3===d.length)for(;!1===(a=b.next()).done;)d(a.value[1],a.value[0],c);else for(;!1===(a=b.next()).done;)d(a.value[1],c)}function ma(b,d,c){var a=-1,e=b.length;if(3===d.length)for(;++a<e;)d(b[a],a,c(a));else for(;++a<e;)d(b[a],c(a))}function Y(b,d,c){var a,e=-1,f=b.length;if(3===d.length)for(;++e<f;)a=b[e],d(a,e,c(a));else for(;++e<f;)a=b[e],d(a,c(a))}function Z(b,d,
c,a){var e,f,g=-1,k=a.length;if(3===d.length)for(;++g<k;)e=a[g],f=b[e],d(f,e,c(f));else for(;++g<k;)f=b[a[g]],d(f,c(f))}function aa(b,d,c){var a,e=b[z]();if(3===d.length)for(;!1===(a=e.next()).done;)b=a.value[1],d(b,a.value[0],c(b));else for(;!1===(a=e.next()).done;)b=a.value[1],d(b,c(b))}function ba(b,d,c){var a,e=-1,f=b.length;if(3===d.length)for(;++e<f;)a=b[e],d(a,e,c(e,a));else for(;++e<f;)a=b[e],d(a,c(e,a))}function na(b,d,c,a){var e,f,g=-1,k=a.length;if(3===d.length)for(;++g<k;)e=a[g],f=b[e],
d(f,e,c(g,f));else for(;++g<k;)f=b[a[g]],d(f,c(g,f))}function oa(b,d,c){var a,e=-1,f=b[z]();if(3===d.length)for(;!1===(a=f.next()).done;)b=a.value[0],a=a.value[1],d(a,b,c(++e,a));else for(;!1===(a=f.next()).done;)a=a.value[1],d(a,c(++e,a))}function L(b,d){for(var c=-1,a=b.length;++c<a;)d(b[c],c);return b}function ca(b,d){for(var c=b.length;c--;)d(b[c],c);return b}function N(b,d,c){c=c||Object.keys(b);for(var a=-1,e=c.length;++a<e;){var f=c[a];d(b[f],f)}return b}function J(b,d){for(var c=-1;++c<b;)d(c)}
function Ra(b,d){for(var c=b.length,a=-1;++a<c;)if(!d(b[a]))return!1;return!0}function O(b){for(var d=b.length,c=-1,a=Array(d);++c<d;)a[c]=b[c];return a}function M(b){for(var d=Object.keys(b),c=d.length,a=-1,e={};++a<c;){var f=d[a];e[f]=b[f]}return e}function T(b,d){for(var c=-1,a=b.length,e=Array(a);++c<a;)e[c]=(b[c]||{})[d];return e}function da(b,d){return b.criteria-d.criteria}function E(b){return function(d,c){null===b&&A();b(d,c);b=null}}function pa(){function b(b,c){var d=a.test(c)?0:e.test(c)?
2:1,f=b.length;g[c]=function(){var a=F(arguments),c=a[d];switch(c.length){case 1:a[d]=function(a){C.safeNextTick(function(){c(a)})};break;case 2:a[d]=function(a,b){C.safeNextTick(function(){c(a,b)})};break;case 3:a[d]=function(a,b,d){C.safeNextTick(function(){c(a,b,d)})};break;case 4:a[d]=function(a,b,d,e){C.safeNextTick(function(){c(a,b,d,e)})};break;default:a[d]=function(){var a=F(arguments);C.safeNextTick(function(){c.apply(null,a)})}}switch(f){case 2:return b(a[0],a[1]);case 3:return b(a[0],a[1],
a[2]);case 4:return b(a[0],a[1],a[2],a[3]);case 5:return b(a[0],a[1],a[2],a[3],a[4])}}}function d(a,b){function c(){function b(a){return"function"!==typeof a?a:function(){var b=F(arguments);C.safeNextTick(function(){a.apply(null,b)})}}var e=F(arguments),f=e[0];Array.isArray(f)?L(f,function(a,c){f[c]=b(a)}):f&&"object"===typeof f&&N(f,function(a,c){f[c]=b(a)});switch(d){case 2:a(e[0],e[1]);break;case 3:a(e[0],e[1],e[2])}}if(/^waterfall$/.test(b))g[b]=Sa;else{var d=a.length;g[b]=c}}var c=/^(each|foreach|map|filter|select|reject|detect|pick|reduce|inject|fold|transform|sortby|some|any|every|all|concat|times)|(whilst|until|during)$|^forever$/,
a=new RegExp(/^do|^forever$/),e=new RegExp(/^reduce|Limit$/),f=new RegExp(/^parallel|^(series|waterfall|auto)$/),g={};N(C,function(a,e){if("function"===typeof a){if(f.test(e))return d(a,e);if(c.test(e.toLowerCase()))return b(a,e)}g[e]=a});g.safe=pa;return g}function qa(b,d,c,a){return function(e,f,g){function k(b,c){return function(d){null===b&&A();!!d===a&&(m[b]=c);b=null;++h===l&&g(Q(m))}}function r(b,c){return function(d,e){null===b&&A();d?(g(d,Q(m)),g=y,b=null):(!!e===a&&(m[b]=c),b=null,++h===
l&&g(void 0,Q(m)))}}g=g||y;var l,n,m,h=0,p=2===g.length,q=p?r:k;Array.isArray(e)?(l=e.length,m=Array(l),b(e,f,q)):e&&(z&&e[z]?(l=e.size,m=Array(l),c(e,f,q)):"object"===typeof e&&(n=Object.keys(e),l=n.length,m=Array(l),d(e,f,q,n)));if(!l)return p?g(void 0,[]):g([])}}function ra(b){return function(d,c,a){function e(){q=d[B];c(q,H)}function f(){q=d[B];c(q,B,H)}function g(){q=t.next().value[1];c(q,H)}function k(){u=t.next().value;q=u[1];c(q,u[0],H)}function r(){p=x[B];q=d[p];c(q,H)}function l(){p=x[B];
q=d[p];c(q,p,H)}function n(c){!!c===b&&(D[D.length]=q);++B>=h?(a(D),a=A):w?C.nextTick(v):v()}function m(c,d){c?(a(c,D),a=A):(!!d===b&&(D[D.length]=q),++B>=h?(a(void 0,D),a=A):w?C.nextTick(v):v())}a=a||y;var h,p,q,x,t,u,v,w=!0,B=0,D=[],K=2===a.length,H=K?m:n;Array.isArray(d)?(h=d.length,v=3===c.length?f:e):d&&(z&&d[z]?(h=d.size,t=d[z](),v=3===c.length?k:g):"object"===typeof d&&(x=Object.keys(d),h=x.length,v=3===c.length?l:r));if(!h)return K?a(void 0,[]):a([]);v();w=!1}}function sa(b){return function(d,
c,a,e){function f(){q=H++;q<p&&(t=d[q],a(t,F(t,q)))}function g(){q=H++;q<p&&(t=d[q],a(t,q,F(t,q)))}function k(){!1===(w=v.next()).done&&(t=w.value[1],a(t,F(t,++H)))}function r(){!1===(w=v.next()).done&&(t=w.value[1],a(t,w.value[0],F(t,++H)))}function l(){q=H++;q<p&&(t=d[u[q]],a(t,F(t,q)))}function n(){q=H++;q<p&&(x=u[q],t=d[x],a(t,x,F(t,q)))}function m(a,c){return function(d){null===c&&A();!!d===b&&(D[c]=a);c=null;++E>=p?(e(Q(D)),e=A):K?C.nextTick(B):B()}}function h(a,c){return function(d,f){null===
c&&A();d?(e(d,Q(D)),B=e=y,c=null):(!!f===b&&(D[c]=a),c=null,++E===p?(e(void 0,Q(D)),e=A):K?C.nextTick(B):B())}}e=e||y;var p,q,x,t,u,v,w,B,D,K=!0,H=0,E=0,G=2===e.length,F=G?h:m;Array.isArray(d)?(p=d.length,B=3===a.length?g:f):d&&(z&&d[z]?(p=d.size,v=d[z](),B=3===a.length?r:k):"object"===typeof d&&(u=Object.keys(d),p=u.length,B=3===a.length?n:l));if(!p||isNaN(c)||1>c)return G?e(void 0,[]):e([]);D=Array(p);J(c>p?p:c,B);K=!1}}function R(b,d,c){function a(){d(b[u],l)}function e(){d(b[u],u,l)}function f(){d(p.next().value[1],
l)}function g(){q=p.next().value;d(q[1],q[0],l)}function k(){d(b[h[u]],l)}function r(){m=h[u];d(b[m],m,l)}function l(a,b){a?c(a):++u>=n?(c(),c=A):!1===b?c():t?C.nextTick(x):(t=!0,x());t=!1}c=c||y;var n,m,h,p,q,x,t=!0,u=0;Array.isArray(b)?(n=b.length,x=3===d.length?e:a):b&&(z&&b[z]?(n=b.size,p=b[z](),x=3===d.length?g:f):"object"===typeof b&&(h=Object.keys(b),n=h.length,x=3===d.length?r:k));if(!n)return c();x();t=!1}function U(b,d,c,a){function e(){w<m&&c(b[w++],n)}function f(){h=w++;h<m&&c(b[h],h,
n)}function g(){!1===(t=x.next()).done&&c(t.value[1],n)}function k(){!1===(t=x.next()).done&&c(t.value[1],t.value[0],n)}function r(){w<m&&c(b[q[w++]],n)}function l(){h=w++;h<m&&(p=q[h],c(b[p],p,n))}function n(b,c){b?(a(b),u=a=y):++B>=m?(a(),a=A):!1===c?(a(),a=y):v?C.nextTick(u):(v=!0,u());v=!1}a=a||y;var m,h,p,q,x,t,u,v=!1,w=0,B=0;if(Array.isArray(b))m=b.length,u=3===c.length?f:e;else if(b)if(z&&b[z])m=b.size,x=b[z](),u=3===c.length?k:g;else if("object"===typeof b)q=Object.keys(b),m=q.length,u=3===
c.length?l:r;else return a();if(!m||isNaN(d)||1>d)return a();J(d>m?m:d,u);v=!0}function ta(b,d,c,a){return function(e,f,g){function k(b){var c=!1;return function(d){c&&A();c=!0;!!d===a?(g(b),g=y):++m===l&&(g(),g=A)}}function r(b){var c=!1;return function(d,e){c&&A();c=!0;d?(g(d),g=y):!!e===a?(g(void 0,b),g=y):++m===l&&(g(),g=A)}}g=g||y;var l,n,m=0,h=2===g.length?r:k;Array.isArray(e)?(l=e.length,b(e,f,h)):e&&(z&&e[z]?(l=e.size,c(e,f,h)):"object"===typeof e&&(n=Object.keys(e),l=n.length,d(e,f,h,n)));
l||g()}}function ua(b){return function(d,c,a){function e(){q=d[B];c(q,D)}function f(){q=d[B];c(q,B,D)}function g(){q=t.next().value[1];c(q,D)}function k(){u=t.next().value;q=u[1];c(q,u[0],D)}function r(){q=d[x[B]];c(q,D)}function l(){p=x[B];q=d[p];c(q,p,D)}function n(c){!!c===b?(a(q),a=A):++B>=h?(a(),a=A):w?C.nextTick(v):(w=!0,v());w=!1}function m(c,d){c?(a(c),a=A):!!d===b?(a(void 0,q),a=A):++B>=h?(a(),a=A):w?C.nextTick(v):(w=!0,v());w=!1}a=a||y;var h,p,q,x,t,u,v,w=!0,B=0,D=2===a.length?m:n;Array.isArray(d)?
(h=d.length,v=3===c.length?f:e):d&&(z&&d[z]?(h=d.size,t=d[z](),v=3===c.length?k:g):"object"===typeof d&&(x=Object.keys(d),h=x.length,v=3===c.length?l:r));if(!h)return a();v();w=!1}}function va(b){return function(d,c,a,e){function f(){q=K++;q<p&&(t=d[q],a(t,E(t)))}function g(){q=K++;q<p&&(t=d[q],a(t,q,E(t)))}function k(){!1===(w=v.next()).done&&(t=w.value[1],a(t,E(t)))}function r(){!1===(w=v.next()).done&&(t=w.value[1],a(t,w.value[0],E(t)))}function l(){q=K++;q<p&&(t=d[u[q]],a(t,E(t)))}function n(){K<
p&&(x=u[K++],t=d[x],a(t,x,E(t)))}function m(a){var c=!1;return function(d){c&&A();c=!0;!!d===b?(e(a),B=e=y):++H>=p?(e(),e=A):D?C.nextTick(B):(D=!0,B());D=!1}}function h(a){var c=!1;return function(d,f){c&&A();c=!0;d?(e(d),B=e=y):!!f===b?(e(void 0,a),e=y):++H>=p?(e(),e=A):D?C.nextTick(B):(D=!0,B());D=!1}}e=e||y;var p,q,x,t,u,v,w,B,D=!0,K=0,H=0,E=2===e.length?h:m;Array.isArray(d)?(p=d.length,B=3===a.length?g:f):d&&(z&&d[z]?(p=d.size,v=d[z](),B=3===a.length?r:k):"object"===typeof d&&(u=Object.keys(d),
p=u.length,B=3===a.length?n:l));if(!p||isNaN(c)||1>c)return e();J(c>p?p:c,B);D=!1}}function V(b,d,c,a){function e(a){p=b[w];c(a,p,n)}function f(a){p=b[w];c(a,p,w,n)}function g(){c(d,x.next().value[1],n)}function k(){t=x.next().value;c(d,t[1],t[0],n)}function r(a){h=q[w];p=b[h];c(a,p,n)}function l(a){h=q[w];p=b[h];c(a,p,h,n)}function n(b,c){b?(a(b,c),a=A):++w>=m?(a(void 0,c),a=A):v?C.nextTick(function(){u(c)}):(v=!0,u(c));v=!1}a=a||y;var m,h,p,q,x,t,u,v=!0,w=0;Array.isArray(b)?(m=b.length,u=4===c.length?
f:e):b&&(z&&b[z]?(m=b.size,x=b[z](),u=4===c.length?k:g):"object"===typeof b&&(q=Object.keys(b),m=q.length,u=4===c.length?l:r));if(!m)return a(void 0,d);u(d);v=!1}function wa(b,d,c,a){function e(a){h=b[--l];c(a,h,r)}function f(a){n=--l;h=b[n];c(a,h,n,r)}function g(a){m=p[--l];h=b[m];c(a,h,r)}function k(a){m=p[--l];h=b[m];c(a,h,m,r)}function r(b,c){b?(a(b,c),a=A):0>=l?(a(void 0,c),a=A):v?C.nextTick(function(){u(c)}):(v=!0,u(c));v=!1}a=a||y;var l,n,m,h,p,q,x,t,u,v=!0;if(Array.isArray(b))l=b.length,u=
4===c.length?f:e;else if(b)if(z&&b[z]){l=b.size;p=Array(l);q=b[z]();n=-1;for(t={};!1===(x=q.next()).done;)m=x.value[0],t[m]=x.value[1],p[++n]=m;b=t;u=4===c.length?k:g}else"object"===typeof b&&(p=Object.keys(b),l=p.length,u=4===c.length?k:g);if(!l)return a(void 0,d);u(d);v=!1}function xa(b,d,c){function a(a){c(!!a)}function e(a,b){c(a,!!b)}c=c||y;ya(b,d,2===c.length?e:a)}function za(b,d){function c(){g=m;b[m](e)}function a(){g=k[m];b[g](e)}function e(a,b){a?(d(a,r),l=d=A):(r[g]=2>=arguments.length?
b:I(arguments,1),++m>=f?(d(void 0,r),d=A):n?C.nextTick(l):(n=!0,l()),n=!1)}d=d||y;var f,g,k,r,l,n=!0,m=0;if(Array.isArray(b))f=b.length,r=Array(f),l=c;else if(b&&"object"===typeof b)k=Object.keys(b),f=k.length,r={},l=a;else return d();if(!f)return d(void 0,r);l();n=!1}function ea(b,d,c){function a(){k=p++;if(k<g)b[k](f(k))}function e(){p<g&&(r=l[p++],b[r](f(r)))}function f(a){return function(b,d){null===a&&A();b?(c(b,n),c=y,a=null):(n[a]=2>=arguments.length?d:I(arguments,1),a=null,++q>=g?c(void 0,
n):h?C.nextTick(m):(h=!0,m()),h=!1)}}c=c||y;var g,k,r,l,n,m,h=!0,p=0,q=0;Array.isArray(b)?(g=b.length,n=Array(g),m=a):b&&"object"===typeof b&&(l=Object.keys(b),g=l.length,n={},m=e);if(!g||isNaN(d)||1>d)return c(void 0,n);J(d>g?g:d,m);h=!1}function fa(b,d){return Array.isArray(b)?0===b.length?(d(),!1):!0:(d(Error("First argument to waterfall must be an array of functions")),!1)}function Sa(b,d){function c(g){function k(b){a&&A();a=!0;if(b)d(b);else if(++g>=e)d.apply(null,F(arguments));else{f=arguments;
C.safeNextTick(function(){c(g)});return}d=c=A}a=!1;var r=b[g];switch(f.length){case 0:case 1:return r(k);case 2:return r(f[1],k);case 3:return r(f[1],f[2],k);case 4:return r(f[1],f[2],f[3],k);case 5:return r(f[1],f[2],f[3],f[4],k);case 6:return r(f[1],f[2],f[3],f[4],f[5],k);default:return f=I(f,1),f.push(k),r.apply(null,f)}}d=d||y;if(fa(b,d)){var a,e=b.length,f=[];c(0)}}function Aa(b,d){function c(){switch(k.length){case 0:try{a(null,k())}catch(b){a(b)}break;case 1:return k(a);case 2:return k(r[1],
a);case 3:return k(r[1],r[2],a);case 4:return k(r[1],r[2],r[3],a);case 5:return k(r[1],r[2],r[3],r[4],a);default:return r=I(r,1),r[k.length-1]=a,k.apply(null,r)}}function a(a){a?(d(a),d=A):++e>=g?(d.apply(null,F(arguments)),d=A):(k=b[e],r=arguments,f?C.nextTick(c):(f=!0,c()),f=!1)}d=d||y;if(fa(b,d)){var e=0,f=!0,g=b.length,k=b[e],r=[];c();f=!1}}function Ba(){var b=F(arguments);return function(){var d=this,c=F(arguments),a=c.pop();V(b,c,function(a,b,c){a.push(function(a){var b=I(arguments,1);c(a,b)});
b.apply(d,a)},function(b,c){c=Array.isArray(c)?c:[c];c.unshift(b);a.apply(d,c)})}}function Ca(b){return function(d){var c=function(){var a=this,c=F(arguments),g=c.pop()||y;return b(d,function(b,d){b.apply(a,c.concat([d]))},g)};if(1<arguments.length){var a=I(arguments,1);return c.apply(this,a)}return c}}function Da(b,d){function c(a,b,c){function d(a){var b=e.tasks,c=b.length;if(!c)return 0;for(var f=-1;++f<c&&!(a<b[f].priority););return f}e.started=!0;var l=Array.isArray(a)?a:[a];if(void 0!==a&&l.length){c=
"function"===typeof c?c:y;var n=d(b);L(l,function(a){a={task:a,priority:b,callback:c};e.tasks.splice(n++,0,a);"function"===typeof e.saturated&&e.length()===e.concurrency&&e.saturated();C.nextTick(e.process)})}else e.idle()&&C.nextTick(function(){"function"===typeof e.drain&&e.drain()})}if(void 0===d)d=1;else if(isNaN(d)||1>d)throw Error("concurrency must be more than 1");var a=0,e={tasks:[],concurrency:d,saturated:y,empty:y,drain:y,started:!1,paused:!1,push:function(a,b,d){c(a,b,d)},kill:function(){e.drain=
y;e.tasks=[]},process:function(){function b(){a--;c.callback&&c.callback.apply(c,F(arguments));"function"===typeof e.drain&&e.idle()&&e.drain();e.process()}if(!(e.paused||a>=e.concurrency)&&e.length()){var c=e.tasks.shift();"function"!==typeof e.empty||e.length()||e.empty();a++;e._worker(c.task,E(b))}},length:function(){return e.tasks.length},running:function(){return a},idle:function(){return 0===e.length()+a},pause:function(){e.paused=!0},resume:function(){!1!==e.paused&&(e.paused=!1,J(e.concurrency,
function(){C.setImmediate(e.process)}))},_worker:b};return e}function Ea(b,d,c){function a(){d(k,e)}function e(d,e){f[k]=e;d?(c(d),c=A):++k>=b?(c(void 0,f),c=A):g?C.nextTick(a):(g=!0,a());g=!1}c=c||y;b=+b;if(isNaN(b)||1>b)return c(void 0,[]);var f=Array(b),g=!0,k=0;a();g=!1}function Fa(b){return function(){var d=F(arguments),c=d.pop(),a;try{a=b.apply(this,d)}catch(e){return c(e)}if("object"===typeof a&&"function"===typeof a.then)a.then(function(a){c(null,a)})["catch"](c);else c(null,a)}}function ga(b){function d(c){if(W[typeof console])if(c)console.error&&
console.error(c);else if(console[b]){var a=I(arguments,1);L(a,function(a){console[b](a)})}}return function(b){var a=I(arguments,1);a.push(d);b.apply(null,a)}}function G(b,d){this._emitter=b||za;this._limit=d||4;this._events={};this._runing={};this._queue={}}function Ga(b){b=b||y;if(b.ONCE===ha)return b;var d=function(c){if(b.length)return b(c);b();c()};d.func=b;return d}function Ha(b){b=b||y;var d=function(c){if(b.length)return b(c);b();c()};d.func=b;d.ONCE=ha;return d}var P=this,Ta=P&&P.async,y=
function(){},A=function(){throw Error("Callback was already called.");},W={"function":!0,object:!0},z="function"===typeof Symbol&&Symbol.iterator,Ia,ia,X;(function(){var b=function(b){setTimeout(b,0)};X="function"===typeof setImmediate?setImmediate:b;Ia="object"===typeof process&&"function"===typeof process.nextTick?ia=/^v0.10/.test(process.version)?X:process.nextTick:ia=X})();var S=function(b,d,c){return function(a,e,f){function g(a,b){a?(f(a),f=y):++l===k?f():!1===b&&(f(),f=y)}f=f||y;var k,r,l=
0;Array.isArray(a)?(k=a.length,b(a,e,g)):a&&(z&&a[z]?(k=a.size,c(a,e,g)):"object"===typeof a&&(r=Object.keys(a),k=r.length,d(a,e,g,r)));k||f()}}(ja,ka,la),Ua=function(b,d,c){return function(a,e,f){function g(a){return function(b,c){null===a&&A();l[a]=c;a=null;b?(f(b,O(l)),f=y):++n===k&&f(void 0,l)}}f=f||y;var k,r,l,n=0;Array.isArray(a)?(k=a.length,l=Array(k),b(a,e,g)):a&&(z&&a[z]?(k=a.size,l=Array(k),c(a,e,g)):"object"===typeof a&&(r=Object.keys(a),k=r.length,l=Array(k),d(a,e,g,r)));k||f(void 0,[])}}(ma,
function(b,d,c,a){var e,f=-1,g=a.length;if(3===d.length)for(;++f<g;)e=a[f],d(b[e],e,c(f));else for(;++f<g;)d(b[a[f]],c(f))},function(b,d,c){var a=-1,e=b.size,f=b[z]();if(3===d.length)for(;++a<e;)b=f.next().value,d(b[1],b[0],c(a));else for(;++a<e;)d(f.next().value[1],c(a))}),Va=function(b,d,c){return function(a,e,f){function g(a){return function(b,c){null===a&&A();n[a]=c;a=null;b?(f(b,M(n)),f=y):++l===k&&(f(void 0,n),f=A)}}f=f||y;var k,r,l=0,n={};Array.isArray(a)?(k=a.length,b(a,e,g)):a&&(z&&a[z]?
(k=a.size,c(a,e,g)):"object"===typeof a&&(r=Object.keys(a),k=r.length,d(a,e,g,r)));k||f(void 0,n)}}(ma,function(b,d,c,a){var e,f=-1,g=a.length;if(3===d.length)for(;++f<g;)e=a[f],d(b[e],e,c(e));else for(;++f<g;)e=a[f],d(b[e],c(e))},function(b,d,c){var a,e=b[z]();if(3===d.length)for(;!1===(b=e.next()).done;)a=b.value[0],d(b.value[1],a,c(a));else for(;!1===(b=e.next()).done;)d(b.value[1],c(b.value[0]))}),Ja=qa(ba,na,oa,!0),Ka=ra(!0),La=sa(!0),Wa=qa(ba,na,oa,!1),Xa=ra(!1),Ya=sa(!1),ya=ta(Y,Z,aa,!0),Ma=
ua(!0),Na=va(!0),Oa=function(b,d,c){var a=ta(b,d,c,!1);return function(b,c,d){function k(a){d(!a)}function r(a,b){d(a,!b)}d=d||y;a(b,c,2===d.length?r:k)}}(Y,Z,aa),Za=function(){var b=ua(!1);return function(d,c,a){function e(b){a(!b)}function f(b,c){a(b,!c)}a=a||y;b(d,c,2===a.length?f:e)}}(),$a=function(){var b=va(!1);return function(d,c,a,e){function f(a){e(!a)}function g(a,b){e(a,!b)}e=e||y;b(d,c,a,2===e.length?g:f)}}(),ab=function(b,d,c){return function(a,e,f){function g(a,b){return function(c){null===
a&&A();c&&(m[a]=b);a=null;++n===r&&f(m)}}function k(a,b){return function(c,d){null===a&&A();c?(f(c,M(m)),f=y,a=null):(d&&(m[a]=b),a=null,++n===r&&(f(void 0,m),f=A))}}f=f||y;var r,l,n=0,m={},h=2===f.length,p=h?k:g;Array.isArray(a)?(r=a.length,b(a,e,p)):a&&(z&&a[z]?(r=a.size,c(a,e,p)):"object"===typeof a&&(l=Object.keys(a),r=l.length,d(a,e,p,l)));if(!r)return h?f(void 0,{}):f({})}}(ba,function(b,d,c,a){var e,f,g=-1,k=a.length;if(3===d.length)for(;++g<k;)e=a[g],f=b[e],d(f,e,c(e,f));else for(;++g<k;)e=
a[g],f=b[e],d(f,c(e,f))},function(b,d,c){var a,e,f=b[z]();if(3===d.length)for(;!1===(e=f.next()).done;)b=e.value[0],a=e.value[1],d(a,b,c(b,a));else for(;!1===(e=f.next()).done;)a=e.value[1],d(a,c(e.value[0],a))}),bb=function(b,d,c){return function(a,e,f,g){function k(a,b){a?(f(a,Array.isArray(n)?O(n):M(n)),f=y):++m===r?f(void 0,n):!1===b&&(f(void 0,Array.isArray(n)?O(n):M(n)),f=y)}f=f||y;var r,l,n,m=0;Array.isArray(a)?(r=a.length,n=void 0!==g?g:[],b(a,n,e,k)):a&&(z&&a[z]?(r=a.size,n=void 0!==g?g:
{},c(a,n,e,k)):"object"===typeof a&&(l=Object.keys(a),r=l.length,n=void 0!==g?g:{},d(a,n,e,k,l)));r||f(void 0,void 0!==g?g:n||{})}}(function(b,d,c,a){var e=-1,f=b.length;if(4===c.length)for(;++e<f;)c(d,b[e],e,E(a));else for(;++e<f;)c(d,b[e],E(a))},function(b,d,c,a,e){var f,g=-1,k=e.length;if(4===c.length)for(;++g<k;)f=e[g],c(d,b[f],f,E(a));else for(;++g<k;)c(d,b[e[g]],E(a))},function(b,d,c,a){var e=b[z]();if(4===c.length)for(;!1===(b=e.next()).done;)c(d,b.value[1],b.value[0],E(a));else for(;!1===
(b=e.next()).done;)c(d,b.value[1],E(a))}),cb=function(b,d,c){return function(a,e,f){function g(a){var b=!1;return function(c,d){b&&A();b=!0;r[l]={value:a,criteria:d};c?(f(c),f=y):++l===k&&(r.sort(da),f(void 0,T(r,"value")),f=A)}}f=f||y;var k,r,l=0;if(Array.isArray(a))k=a.length,r=Array(k),b(a,e,g);else if(a)if(z&&a[z])k=a.size,r=Array(k),c(a,e,g);else if("object"===typeof a){var n=Object.keys(a);k=n.length;r=Array(k);d(a,e,g,n)}k||f(void 0,[])}}(Y,Z,aa),db=function(b,d,c){return function(a,e,f){function g(a,
b){b&&Array.prototype.push.apply(l,Array.isArray(b)?b:[b]);a?(f(a,O(l)),f=y):++r===k&&f(void 0,l)}f=f||y;var k,r=0,l=[];if(Array.isArray(a))k=a.length,b(a,e,g);else if(a)if(z&&a[z])k=a.size,c(a,e,g);else if("object"===typeof a){var n=Object.keys(a);k=n.length;d(a,e,g,n)}k||f(void 0,l)}}(ja,ka,la),Pa=function(b,d){return function(c,a){function e(b){return function(c,d){null===b&&A();c?(a(c,k),a=y,b=null):(k[b]=2>=arguments.length?d:I(arguments,1),b=null,++r===f&&(a(void 0,k),a=A))}}a=a||y;var f,g,
k,r=0;Array.isArray(c)?(f=c.length,k=Array(f),b(c,e)):c&&"object"===typeof c&&(g=Object.keys(c),f=g.length,k={},d(c,e,g));f||a(void 0,k)}}(function(b,d){for(var c=-1,a=b.length;++c<a;)b[c](d(c))},function(b,d,c){for(var a,e=-1,f=c.length;++e<f;)a=c[e],b[a](d(a))}),C={VERSION:"1.5.0",each:S,eachSeries:R,eachLimit:U,forEach:S,forEachSeries:R,forEachLimit:U,eachOf:S,eachOfSeries:R,eachOfLimit:U,forEachOf:S,forEachOfSeries:R,forEachOfLimit:U,map:Ua,mapSeries:function(b,d,c){function a(){d(b[v],l)}function e(){d(b[v],
v,l)}function f(){d(p.next().value[1],l)}function g(){q=p.next().value;d(q[1],q[0],l)}function k(){d(b[h[v]],l)}function r(){m=h[v];d(b[m],m,l)}function l(a,b){x[v]=b;a?(c(a,O(x)),c=A):++v>=n?(c(void 0,x),c=A):u?C.nextTick(t):(u=!0,t());u=!1}c=c||y;var n,m,h,p,q,x,t,u=!0,v=0;Array.isArray(b)?(n=b.length,t=3===d.length?e:a):b&&(z&&b[z]?(n=b.size,p=b[z](),t=3===d.length?g:f):"object"===typeof b&&(h=Object.keys(b),n=h.length,t=3===d.length?r:k));if(!n)return c(void 0,[]);x=Array(n);t();u=!1},mapLimit:function(b,
d,c,a){function e(){h=B++;h<m&&c(b[h],n(h))}function f(){h=B++;h<m&&c(b[h],h,n(h))}function g(){!1===(t=x.next()).done&&c(t.value[1],n(B++))}function k(){!1===(t=x.next()).done&&c(t.value[1],t.value[0],n(B++))}function r(){h=B++;h<m&&c(b[q[h]],n(h))}function l(){h=B++;h<m&&(p=q[h],c(b[p],p,n(h)))}function n(b){return function(c,d){null===b&&A();u[b]=d;b=null;c?(a(c,O(u)),v=a=y):++D>=m?(a(void 0,u),a=A):w?C.nextTick(v):(w=!0,v());w=!1}}a=a||y;var m,h,p,q,x,t,u,v,w=!0,B=0,D=0;Array.isArray(b)?(m=b.length,
v=3===c.length?f:e):b&&(z&&b[z]?(m=b.size,x=b[z](),v=3===c.length?k:g):"object"===typeof b&&(q=Object.keys(b),m=q.length,v=3===c.length?l:r));if(!m||isNaN(d)||1>d)return a(void 0,[]);u=Array(m);J(d>m?m:d,v);w=!1},mapValues:Va,mapValuesSeries:function(b,d,c){function a(){m=v;d(b[v],l)}function e(){m=v;d(b[v],v,l)}function f(){q=p.next().value;m=q[0];d(q[1],l)}function g(){q=p.next().value;m=q[0];d(q[1],m,l)}function k(){m=h[v];d(b[m],l)}function r(){m=h[v];d(b[m],m,l)}function l(a,b){u[m]=b;a?(c(a,
M(u)),c=A):++v>=n?(c(void 0,u),c=A):t?C.nextTick(x):(t=!0,x());t=!1}c=c||y;var n,m,h,p,q,x,t=!0,u={},v=0;Array.isArray(b)?(n=b.length,x=3===d.length?e:a):b&&(z&&b[z]?(n=b.size,p=b[z](),x=3===d.length?g:f):"object"===typeof b&&(h=Object.keys(b),n=h.length,x=3===d.length?r:k));if(!n)return c(void 0,u);x();t=!1},mapValuesLimit:function(b,d,c,a){function e(){h=B++;h<m&&c(b[h],n(h))}function f(){h=B++;h<m&&c(b[h],h,n(h))}function g(){!1===(t=x.next()).done&&c(t.value[1],n(t.value[0]))}function k(){!1===
(t=x.next()).done&&(p=t.value[0],c(t.value[1],p,n(p)))}function r(){h=B++;h<m&&(p=q[h],c(b[p],n(p)))}function l(){h=B++;h<m&&(p=q[h],c(b[p],p,n(p)))}function n(b){return function(c,d){null===b&&A();w[b]=d;b=null;c?(a(c,M(w)),u=a=y):++D>=m?(a(void 0,w),a=A):v?C.nextTick(u):(v=!0,u());v=!1}}a=a||y;var m,h,p,q,x,t,u,v=!0,w={},B=0,D=0;Array.isArray(b)?(m=b.length,u=3===c.length?f:e):b&&(z&&b[z]?(m=b.size,x=b[z](),u=3===c.length?k:g):"object"===typeof b&&(q=Object.keys(b),m=q.length,u=3===c.length?l:r));
if(!m||isNaN(d)||1>d)return a(void 0,w);J(d>m?m:d,u);v=!1},filter:Ja,filterSeries:Ka,filterLimit:La,select:Ja,selectSeries:Ka,selectLimit:La,reject:Wa,rejectSeries:Xa,rejectLimit:Ya,detect:ya,detectSeries:Ma,detectLimit:Na,pick:ab,pickSeries:function(b,d,c){function a(){h=B;p=b[B];d(p,E)}function e(){h=B;p=b[B];d(p,B,E)}function f(){t=x.next().value;h=t[0];p=t[1];d(p,E)}function g(){t=x.next().value;h=t[0];p=t[1];d(p,h,E)}function k(){h=q[B];p=b[h];d(p,E)}function r(){h=q[B];p=b[h];d(p,h,E)}function l(a){a&&
(w[h]=p);++B>=m?(c(w),c=A):v?C.nextTick(u):(v=!0,u());v=!1}function n(a,b){a?(c(a,w),c=A):(b&&(w[h]=p),++B>=m?(c(void 0,w),c=A):v?C.nextTick(u):(v=!0,u()),v=!1)}c=c||y;var m,h,p,q,x,t,u,v=!0,w={},B=0,D=2===c.length,E=D?n:l;Array.isArray(b)?(m=b.length,u=3===d.length?e:a):b&&(z&&b[z]?(m=b.size,x=b[z](),u=3===d.length?g:f):"object"===typeof b&&(q=Object.keys(b),m=q.length,u=3===d.length?r:k));if(!m)return D?c(void 0,{}):c({});u();v=!1},pickLimit:function(b,d,c,a){function e(){p=E++;p<h&&(x=b[p],c(x,
F(x,p)))}function f(){p=E++;p<h&&(x=b[p],c(x,p,F(x,p)))}function g(){!1===(v=u.next()).done&&(x=v.value[1],c(x,F(x,v.value[0])))}function k(){!1===(v=u.next()).done&&(q=v.value[0],x=v.value[1],c(x,q,F(x,q)))}function r(){E<h&&(q=t[E++],x=b[q],c(x,F(x,q)))}function l(){E<h&&(q=t[E++],x=b[q],c(x,q,F(x,q)))}function n(b,c){return function(d){null===c&&A();d&&(D[c]=b);c=null;++H>=h?(a(D),a=A):B?C.nextTick(w):(B=!0,w());B=!1}}function m(b,c){return function(d,e){null===c&&A();d?(a(d,M(D)),w=a=y,c=null):
(e&&(D[c]=b),c=null,++H>=h?(a(void 0,D),a=A):B?C.nextTick(w):(B=!0,w()),B=!1)}}a=a||y;var h,p,q,x,t,u,v,w,B=!0,D={},E=0,H=0,G=2===a.length,F=G?m:n;Array.isArray(b)?(h=b.length,w=3===c.length?f:e):b&&(z&&b[z]?(h=b.size,u=b[z](),w=3===c.length?k:g):"object"===typeof b&&(t=Object.keys(b),h=t.length,w=3===c.length?l:r));if(!h||isNaN(d)||1>d)return G?a(void 0,{}):a({});J(d>h?h:d,w);B=!1},reduce:V,inject:V,foldl:V,reduceRight:wa,foldr:wa,transform:bb,transformSeries:function(b,d,c,a){function e(){d(u,b[w],
n)}function f(){d(u,b[w],w,n)}function g(){d(u,q.next().value[1],n)}function k(){x=q.next().value;d(u,x[1],x[0],n)}function r(){d(u,b[p[w]],n)}function l(){h=p[w];d(u,b[h],h,n)}function n(a,b){a?(c(a,u),c=A):++w>=m?(c(void 0,u),c=A):!1===b?(c(void 0,u),c=A):v?C.nextTick(t):(v=!0,t());v=!1}c=c||y;var m,h,p,q,x,t,u,v=!0,w=0;Array.isArray(b)?(m=b.length,u=void 0!==a?a:[],t=4===d.length?f:e):b&&(z&&b[z]?(m=b.size,q=b[z](),u=void 0!==a?a:{},t=4===d.length?k:g):"object"===typeof b&&(p=Object.keys(b),m=
p.length,u=void 0!==a?a:{},t=4===d.length?l:r));if(!m)return c(void 0,void 0!==a?a:u||{});t();v=!1},transformLimit:function(b,d,c,a,e){function f(){p=D++;p<h&&c(w,b[p],E(m))}function g(){p=D++;p<h&&c(w,b[p],p,E(m))}function k(){!1===(u=t.next()).done&&c(w,u.value[1],E(m))}function r(){!1===(u=t.next()).done&&c(w,u.value[1],u.value[0],E(m))}function l(){p=D++;p<h&&c(w,b[x[p]],E(m))}function n(){p=D++;p<h&&(q=x[p],c(w,b[q],q,E(m)))}function m(b,c){b?(a(b,Array.isArray(w)?O(w):M(w)),v=a=y):++F>=h?(a(void 0,
w),a=A):!1===c?(a(void 0,Array.isArray(w)?O(w):M(w)),v=a=y):B?C.nextTick(v):(B=!0,v());B=!1}a=a||y;var h,p,q,x,t,u,v,w,B=!0,D=0,F=0;Array.isArray(b)?(h=b.length,w=void 0!==e?e:[],v=4===c.length?g:f):b&&(z&&b[z]?(h=b.size,t=b[z](),w=void 0!==e?e:{},v=4===c.length?r:k):"object"===typeof b&&(x=Object.keys(b),h=x.length,w=void 0!==e?e:{},v=4===c.length?n:l));if(!h||isNaN(d)||1>d)return a(void 0,void 0!==e?e:w||{});J(d>h?h:d,v);B=!1},sortBy:cb,sortBySeries:function(b,d,c){function a(){h=b[w];d(h,l)}function e(){h=
b[w];d(h,w,l)}function f(){h=q.next().value[1];d(h,l)}function g(){x=q.next().value;h=x[1];d(h,x[0],l)}function k(){h=b[p[w]];d(h,l)}function r(){m=p[w];h=b[m];d(h,m,l)}function l(a,b){t[w]={value:h,criteria:b};a?(c(a),c=A):++w>=n?(t.sort(da),c(void 0,T(t,"value")),c=A):v?C.nextTick(u):(v=!0,u());v=!1}c=c||y;var n,m,h,p,q,x,t,u,v=!0,w=0;Array.isArray(b)?(n=b.length,u=3===d.length?e:a):b&&(z&&b[z]?(n=b.size,q=b[z](),u=3===d.length?g:f):"object"===typeof b&&(p=Object.keys(b),n=p.length,u=3===d.length?
r:k));if(!n)return c(void 0,[]);t=Array(n);u();v=!1},sortByLimit:function(b,d,c,a){function e(){D<m&&(q=b[D++],c(q,n(q)))}function f(){h=D++;h<m&&(q=b[h],c(q,h,n(q)))}function g(){!1===(u=t.next()).done&&(q=u.value[1],c(q,n(q)))}function k(){!1===(u=t.next()).done&&(q=u.value[1],c(q,u.value[0],n(q)))}function r(){D<m&&(q=b[x[D++]],c(q,n(q)))}function l(){D<m&&(p=x[D++],q=b[p],c(q,p,n(q)))}function n(b){var c=!1;return function(d,e){c&&A();c=!0;v[E]={value:b,criteria:e};d?(a(d),w=a=y):++E>=m?(v.sort(da),
a(void 0,T(v,"value")),a=A):B?C.nextTick(w):(B=!0,w());B=!1}}a=a||y;var m,h,p,q,x,t,u,v,w,B=!1,D=0,E=0;Array.isArray(b)?(m=b.length,w=3===c.length?f:e):b&&(z&&b[z]?(m=b.size,t=b[z](),w=3===c.length?k:g):"object"===typeof b&&(x=Object.keys(b),m=x.length,w=3===c.length?l:r));if(!m||isNaN(d)||1>d)return a(void 0,[]);v=Array(m);J(d>m?m:d,w)},some:xa,someSeries:function(b,d,c){function a(a){c(!!a)}function e(a,b){c(a,!!b)}c=c||y;Ma(b,d,2===c.length?e:a)},someLimit:function(b,d,c,a){function e(b){a(!!b)}
function f(b,c){a(b,!!c)}a=a||y;Na(b,d,c,2===a.length?f:e)},any:xa,every:Oa,all:Oa,everySeries:Za,everyLimit:$a,concat:db,concatSeries:function(b,d,c){function a(){d(b[v],l)}function e(){d(b[v],v,l)}function f(){d(p.next().value[1],l)}function g(){q=p.next().value;d(q[1],q[0],l)}function k(){d(b[h[v]],l)}function r(){m=h[v];d(b[m],m,l)}function l(a,b){b&&Array.prototype.push.apply(u,Array.isArray(b)?b:[b]);a?(c(a,u),c=A):++v>=n?(c(void 0,u),c=A):t?C.nextTick(x):(t=!0,x());t=!1}c=c||y;var n,m,h,p,
q,x,t=!0,u=[],v=0;Array.isArray(b)?(n=b.length,x=3===d.length?e:a):b&&(z&&b[z]?(n=b.size,p=b[z](),x=3===d.length?g:f):"object"===typeof b&&(h=Object.keys(b),n=h.length,x=3===d.length?r:k));if(!n)return c(void 0,u);x();t=!1},concatLimit:function(b,d,c,a){function e(){w<h&&c(b[w++],E(n))}function f(){p=w++;p<h&&c(b[p],p,E(n))}function g(){!1===(t=x.next()).done&&c(t.value[1],E(n))}function k(){!1===(t=x.next()).done&&c(t.value[1],t.value[0],E(n))}function r(){w<h&&c(b[D[w++]],E(n))}function l(){w<h&&
(q=D[w++],c(b[q],q,E(n)))}function n(b,c){c&&Array.prototype.push.apply(m,Array.isArray(c)?c:[c]);b?(a(b,m),a=y):++B>=h?(a(void 0,m),a=A):v?C.nextTick(u):(v=!0,u());v=!1}a=a||y;var m=[],h,p,q,x,t,u,v=!0,w=0,B=0;if(Array.isArray(b))h=b.length,u=3===c.length?f:e;else if(b)if(z&&b[z])h=b.size,x=b[z](),u=3===c.length?k:g;else if("object"===typeof b){var D=Object.keys(b);h=D.length;u=3===c.length?l:r}if(!h||isNaN(d)||1>d)return a(void 0,m);J(d>h?h:d,u);v=!1},parallel:Pa,series:za,parallelLimit:ea,waterfall:function(b,
d){function c(){f=!1;switch(l.length){case 0:case 1:return r(a);case 2:return r(l[1],a);case 3:return r(l[1],l[2],a);case 4:return r(l[1],l[2],l[3],a);case 5:return r(l[1],l[2],l[3],l[4],a);case 6:return r(l[1],l[2],l[3],l[4],l[5],a);default:return l=I(l,1),l.push(a),r.apply(null,l)}}function a(a){f&&A();a?(d(a),d=A):(f=!0,++e>=k?(d.apply(null,F(arguments)),d=A):(r=b[e],l=arguments,g?C.nextTick(c):(g=!0,c()),g=!1))}d=d||y;if(fa(b,d)){var e=0,f=!1,g=!0,k=b.length,r=b[e],l=[];c();g=!1}},angelFall:Aa,
angelfall:Aa,whilst:function(b,d,c){function a(){b()?d(function(b){if(b)return c(b);e?C.nextTick(a):(e=!0,a());e=!1}):c()}c=c||y;var e=!0;a();e=!1},doWhilst:function(b,d,c){function a(){b(function(b,g){if(b)return c(b);(2>=arguments.length?d(g):d.apply(null,I(arguments,1)))?(e?C.nextTick(a):(e=!0,a()),e=!1):c()})}c=c||y;var e=!0;a();e=!1},until:function(b,d,c){function a(){b()?c():d(function(b){if(b)return c(b);e?C.nextTick(a):(e=!0,a());e=!1})}c=c||y;var e=!0;a();e=!1},doUntil:function(b,d,c){function a(){b(function(b,
g){if(b)return c(b);(2>=arguments.length?d(g):d.apply(null,I(arguments,1)))?c():(e?C.nextTick(a):(e=!0,a()),e=!1)})}c=c||y;var e=!0;a();e=!1},during:function(b,d,c){function a(a,b){if(a)return c(a);b?d(e):c()}function e(d){if(d)return c(d);b(a)}c=c||y;b(a)},doDuring:function(b,d,c){function a(a,d){if(a)return c(a);d?b(e):c()}function e(b,e){if(b)return c(b);switch(arguments.length){case 0:case 1:d(a);break;case 2:d(e,a);break;default:var k=I(arguments,1);k.push(a);d.apply(null,k)}}c=c||y;a(null,!0)},
forever:function(b,d){function c(){b(a)}function a(a){if(a){if(d)return d(a);throw a;}e?C.nextTick(c):(e=!0,c());e=!1}var e=!0;c();e=!1},compose:function(){return Ba.apply(null,Qa(arguments))},seq:Ba,applyEach:Ca(S),applyEachSeries:Ca(R),queue:function(b,d){function c(b,c,d){a.started=!0;var k=Array.isArray(b)?b:[b];void 0!==b&&k.length?(c="function"===typeof c?c:null,L(k,function(b){b={task:b,callback:c};d?a.tasks.unshift(b):a.tasks.push(b);"function"===typeof a.saturated&&a.length()===a.concurrency&&
a.saturated();C.nextTick(a.process)})):a.idle()&&C.nextTick(function(){"function"===typeof a.drain&&a.drain()})}var a=Da(b,d);a.unshift=function(a,b){c(a,b,!0)};a.push=function(a,b){c(a,b)};return a},priorityQueue:Da,cargo:function(b,d){var c=!1,a={tasks:[],payload:d,saturated:y,empty:y,drain:y,drained:!0,push:function(b,c){b=Array.isArray(b)?b:[b];c="function"===typeof c?c:y;L(b,function(b){a.tasks.push({data:b,callback:c});a.drained=!1;"function"===typeof a.saturated&&a.length()===a.payload&&a.saturated()});
C.nextTick(a.process)},process:function(){if(!c)if(a.length()){var e="number"===typeof a.payload?a.tasks.splice(0,d):a.tasks,f=T(e,"data");a.length()||"function"!==typeof a.empty||a.empty();c=!0;b(f,function(){c=!1;var b=F(arguments);L(e,function(a){a.callback&&a.callback.apply(null,b)});a.process()})}else"function"!==typeof a.drain||a.drained||a.drain(),a.drained=!0},length:function(){return a.tasks.length},running:function(){return c}};return a},auto:function(b,d){function c(a){g.unshift(a)}function a(){f--;
L(g.slice(0),function(a){a()})}d=d?E(d):y;var e=Object.keys(b),f=e.length;if(!f)return d();var g=[],k={};c(function(){f||d(void 0,k)});N(b,function(b,e){function f(b){var c=I(arguments,1);1>=c.length&&(c=c[0]);if(b){var g=M(k);g[e]=c;d(b,g);d=y}else k[e]=c,C.nextTick(a)}function m(){return!k.hasOwnProperty(e)&&Ra(q,function(a){return k.hasOwnProperty(a)})}function h(){if(m()){var a;a:{a=-1;for(var b=g.length;++a<b;)if(g[a]===h)break a;a=void 0}0<=a&&g.splice(a,1);x(f,k)}}b=Array.isArray(b)?b:[b];
var p=b.length,q=b.slice(0,p-1),x=b[p-1];if(m())return x(f,k);c(h)},e)},retry:function(b,d,c){function a(a,f){c=a||c||y;var g,k;Ea(b,function(a,c){d(function(d,e){g=d;k=e;if(!d)return c(!0);c(d&&a===b-1)},f)},function(){c(g,k)})}"function"===typeof b&&(c=d,d=b,b=5);b=parseInt(b,10)||5;return"function"===typeof c?a():a},iterator:function(b){function d(e){var f=function(){c&&b[a[e]||e].apply(null,F(arguments));return f.next()};f.next=function(){return e<c-1?d(e+1):null};return f}var c=0,a=[];Array.isArray(b)?
c=b.length:(a=Object.keys(b),c=a.length);return d(0)},apply:function(b){switch(arguments.length){case 0:case 1:return b;case 2:return b.bind(null,arguments[1]);case 3:return b.bind(null,arguments[1],arguments[2]);case 4:return b.bind(null,arguments[1],arguments[2],arguments[3]);case 5:return b.bind(null,arguments[1],arguments[2],arguments[3],arguments[4]);default:var d=arguments.length,c=0,a=Array(d);for(a[c]=null;++c<d;)a[c]=arguments[c];return b.bind.apply(b,a)}},nextTick:Ia,safeNextTick:ia,setImmediate:X,
times:function(b,d,c){function a(a){return function(d,k){null===a&&A();e[a]=k;a=null;d?(c(d),c=y):0===--b&&c(void 0,e)}}c=c||y;b=+b;if(isNaN(b)||1>b)return c(void 0,[]);var e=Array(b);J(b,function(b){d(b,a(b))})},timesSeries:Ea,timesLimit:function(b,d,c,a){function e(){var a=r++;a<b&&c(a,f(a))}function f(c){return function(d,f){null===c&&A();g[c]=f;c=null;d?(a(d),a=y):++l>=b?(a(void 0,g),a=A):k?C.nextTick(e):(k=!0,e());k=!1}}a=a||y;b=+b;if(isNaN(b)||1>b||isNaN(d)||1>d)return a(void 0,[]);var g=Array(b),
k=!0,r=0,l=0;J(d>b?b:d,e);k=!1},memoize:function(b,d){d=d||function(a){return a};var c={},a={},e=function(){function e(){var b=F(arguments);c[r]=b;var d=a[r];delete a[r];for(var f=-1,g=d.length;++f<g;)d[f].apply(null,b)}var g=F(arguments),k=g.pop(),r=d.apply(null,g);if(c.hasOwnProperty(r))C.nextTick(function(){k.apply(null,c[r])});else{if(a.hasOwnProperty(r))return a[r].push(k);a[r]=[k];g.push(e);b.apply(null,g)}};e.memo=c;e.unmemoized=b;return e},unmemoize:function(b){return function(){return(b.unmemoized||
b).apply(null,arguments)}},ensureAsync:function(b){return function(){var d=!0,c=F(arguments),a=c.pop();c.push(function(){var b=arguments;d?C.safeNextTick(function(){a.apply(null,b)}):a.apply(null,b)});b.apply(this,c);d=!1}},constant:function(){var b=[null].concat(F(arguments));return function(d){d.apply(this,b)}},asyncify:Fa,wrapSync:Fa,log:ga("log"),dir:ga("dir"),createLogger:ga,noConflict:function(){P.async=Ta;return C},eventEmitter:function(b){b=b||{};var d=b.limit;return b.parallel&&!d?new G(Pa):
b.parallel||b.parallelLimit?new G(ea,d):new G(b.emitter)},EventEmitter:G,safe:void 0};C.safe=pa();W[typeof define]&&define&&define.amd?define([],function(){return C}):W[typeof module]&&module&&module.exports?module.exports=C:P&&W[typeof P.async]?P.neo_async=C:P.async=C;var ha={__ONCE__:!0};G.prototype.getListeners=function(b){function d(a){a=a||[];var b=Array(a.length);L(a,function(a,c){b[c]=a.func});return b}var c=this._events;if(b)return d(c[b]);var a={};N(c,function(b,c){a[c]=d(b)});return a};
G.prototype.addListener=function d(c,a){var e=this;if("object"===typeof c)return N(c,function(a,c){d.call(e,c,a)}),e;if(e.running(c))return e.queue(c,"addListener",a);e._events[c]=e._events[c]||[];Array.isArray(a)?L(a,function(a){e._events[c].push(Ga(a))}):e._events[c].push(Ga(a));return e};G.prototype.addOnceListener=function c(a,e){var f=this;if("object"===typeof a)return N(a,function(a,e){c.call(f,e,a)}),f;Array.isArray(e)?L(e,function(a,c){e[c]=Ha(a)}):e=Ha(e);return f.addListener(a,e)};G.prototype.removeListener=
function a(e,f){var g=this;if("object"===typeof e)return N(e,function(e,f){a.call(g,f,e)}),g;if(g.running(e))return g.queue(e,"removeListener",f);var k=g._events[e]||[];if(!k.length)return g;if(Array.isArray(f))return ca(f,function(f){a.call(g,f,e)}),g;ca(k,function(a,e){a.func===f&&k.splice(e,1)});return g};G.prototype.removeEvent=function e(f){var g=this;if(!f)return N(g._events,function(f,r){e.call(g,r)}),g;(g._events[f]||[]).length&&delete g._events[f];return g};G.prototype.running=function(e){return this._runing[e]};
G.prototype.queue=function(e,f,g,k){this._queue[e]=this._queue[e]||[];this._queue[e].push([f,g,k]);return this};G.prototype.resolve=function(e){if(this._runing[e])return this;var f=this._queue[e]||[];if(!f.length)return this;f=f.shift();this[f[0]](e,f[1],f[2]);return this.resolve(e)};G.prototype.emit=function(e,f,g){function k(g,h){g?f(g):(ca(l,function(e,f){e.ONCE===ha&&l.splice(f,1)}),f(void 0,h));r._runing[e]=!1;r.resolve(e)}f=f||y;var r=this;if(r.running(e))return r.queue(e,"emit",f,g);var l=
r._events[e]||[];if(!l.length)return f(),r;r._runing[e]=!0;var n=r._emitter,n=g?n.bind(g):n;n===ea?n(l,r._limit,k):n(l,k);return r};G.prototype.on=G.prototype.addListener;G.prototype.once=G.prototype.addOnceListener;G.prototype.off=G.prototype.removeListener;G.prototype.removeAllListener=G.prototype.removeEvent;G.prototype.trigger=G.prototype.emit}).call(this);
